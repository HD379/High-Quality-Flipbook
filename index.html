<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Working Flipbook Template</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />

<style>
  :root {
    --bg1: #fefaf3;
    --bg2: #f4f1ec;
    --bg3: #e8ded3;
    --page-bg: #ffffff;
    --text: #1f2228;
    --muted: #6e727b;
    --shadow-page: 0 18px 40px rgba(0,0,0,0.2);
    --radius-page: 14px;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; }

  body {
    font-family: system-ui, sans-serif;
    background: radial-gradient(circle at top left, var(--bg1), var(--bg2), var(--bg3));
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    overflow: hidden;
  }

  .book {
    position: relative;
    width: 900px;
    height: 600px;
    display: flex;
    perspective: 2000px;
  }

  .page {
    width: 50%;
    height: 100%;
    background: var(--page-bg);
    border-radius: var(--radius-page);
    box-shadow: var(--shadow-page);
    padding: 2rem;
    position: relative;
    overflow: hidden;
    transform-style: preserve-3d;
  }

  .page h1 { font-size: 1.3rem; margin-bottom: 1rem; }
  .page p { font-size: 1rem; line-height: 1.6; margin-bottom: 0.5rem; }
  .num {
    position: absolute;
    bottom: 18px;
    right: 20px;
    font-size: .8rem;
    color: var(--muted);
  }

  /* Flip animations */
  .flip-right {
    transform-origin: left center;
    animation: flipRight 0.65s ease forwards;
  }
  .flip-left {
    transform-origin: right center;
    animation: flipLeft 0.65s ease forwards;
  }

  @keyframes flipRight {
    0% { transform: rotateY(0deg); }
    100% { transform: rotateY(-180deg); }
  }
  @keyframes flipLeft {
    0% { transform: rotateY(0deg); }
    100% { transform: rotateY(180deg); }
  }

  /* Hotzones */
  .hot {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 20%;
    cursor: pointer;
    z-index: 10;
  }
  #hot-left { left: 0; }
  #hot-right { right: 0; }

  .hint {
    position: absolute;
    bottom: 10px;
    font-size: 0.8rem;
    color: var(--muted);
  }
  .hint-left { left: 15px; }
  .hint-right { right: 15px; }
</style>
</head>
<body>

<div class="book">
  <div class="page" id="left"></div>
  <div class="page" id="right"></div>

  <div class="hot" id="hot-left"></div>
  <div class="hot" id="hot-right"></div>

  <div class="hint hint-left">◀ Click</div>
  <div class="hint hint-right">Click ▶</div>
</div>

<script>
const pages = [
  { title: "Page 1", body: ["This is page one.", "Click right to flip."] },
  { title: "Page 2", body: ["This is page two.", "Click right again."] },
  { title: "Page 3", body: ["Now on page three.", "Click left to go back."] },
  { title: "Page 4", body: ["Page four.", "You can add more pages."] },
  { title: "Page 5", body: ["This system works on GitHub Pages.", "Fully reliable."] },
  { title: "Page 6", body: ["Once confirmed, we style it like FlipHTML5."] }
];

let index = 0;

function render() {
  const left = document.getElementById("left");
  const right = document.getElementById("right");

  function fill(pageEl, data, num) {
    pageEl.innerHTML = "";
    if (!data) return;

    const h1 = document.createElement("h1");
    h1.textContent = data.title;
    pageEl.appendChild(h1);

    data.body.forEach(t => {
      const p = document.createElement("p");
      p.textContent = t;
      pageEl.appendChild(p);
    });

    const n = document.createElement("div");
    n.className = "num";
    n.textContent = num;
    pageEl.appendChild(n);
  }

  fill(left, pages[index], index + 1);
  fill(right, pages[index + 1], index + 2);
}

function next() {
  if (index + 2 >= pages.length) return;

  const right = document.getElementById("right");
  right.classList.add("flip-right");

  right.addEventListener("animationend", function end() {
    right.removeEventListener("animationend", end);
    right.classList.remove("flip-right");

    index += 2;
    render();
  });
}

function prev() {
  if (index - 2 < 0) return;

  const left = document.getElementById("left");
  left.classList.add("flip-left");

  left.addEventListener("animationend", function end() {
    left.removeEventListener("animationend", end);
    left.classList.remove("flip-left");

    index -= 2;
    render();
  });
}

document.getElementById("hot-right").onclick = next;
document.getElementById("hot-left").onclick = prev;

document.addEventListener("keydown", e => {
  if (e.key === "ArrowRight") next();
  if (e.key === "ArrowLeft") prev();
});

render();
</script>

</body>
</html>
